<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>OrganiZ - Pastas</title>
    <link rel="stylesheet" href="pastas.css">
    <link rel="stylesheet" href="app.js">
</head>
<body>

    <div class="header">
        <h1 onclick="window.location.href='pginicial.html'">OrganiZ</h1>
        <img src="images/usuÃ¡rio.png" alt="login">
    </div>

    <h1>Pastas Salvas</h1>
    <div id="lista-pastas"></div>

    <script>
        const lista = document.getElementById('lista-pastas');
        let pastas = JSON.parse(localStorage.getItem('pastas')) || [];

        function renderPastas() {
            lista.innerHTML = '';

            if (pastas.length === 0) {
                lista.innerHTML = "<p class='mensagemvazia'>Nenhuma pasta criada ainda.</p>";
                return;
            }

            pastas.forEach((pasta, index) => {
                const div = document.createElement('div');
                div.className = 'pasta';
                div.innerHTML = `
                    <div><span class="cor" style="background-color:${pasta.cor}"></span> <strong>${pasta.nome}</strong></div>
                    <p>${pasta.descricao}</p>
                    <div class="botoes">
                        <button class="acessar" onclick="acessarPasta(${index})">Acessar</button>
                        <button class="editar" onclick="editarPasta(${index})">Editar</button>
                        <button class="excluir" onclick="excluirPasta(${index})">Excluir</button>
                    </div>
                `;
                lista.appendChild(div);
            });
        }

        function acessarPasta(index) {
            window.location.href = `detalhes.html?id=${index}`;
        }

        function editarPasta(index) {
            window.location.href = `criar.html?id=${index}`;
        }

        function excluirPasta(index) {
            if (confirm('Tem certeza que deseja excluir esta pasta?')) {
                pastas.splice(index, 1);
                localStorage.setItem('pastas', JSON.stringify(pastas));
                renderPastas();
            }
        }

        renderPastas();
    </script>

    <button class="voltar" onclick="window.location.href='pginicial.html'">Voltar</button>
    <button class="novapasta" onclick="window.location.href='criar.html'">Criar nova pasta</button>
</body>
</html>
